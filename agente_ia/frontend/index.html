<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SHILD IA - Security Operations Center</title>
    <link rel="stylesheet" href="static/style.css?v1758466000">
    <!-- Google Fonts para tipografia profissional -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&family=Orbitron:wght@400;500;700;900&display=swap" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ÔøΩÔøΩÔ∏è</text></svg>">
</head>
<body>
    <div class="container">
        <!-- Header Cyberpunk -->
        <header class="header">
            <h1>üõ°Ô∏è SHILD IA</h1>
            <p>Security Operations Center - Sistema de Detec√ß√£o Inteligente</p>
            <div class="status-indicator" id="status">
                <span class="status-dot"></span>
                <span>Sistema Operacional</span>
            </div>
        </header>
        
        <main class="main-content">
            <!-- Bot√µes Principais do Sistema -->
            <section class="main-controls">
                <div class="control-buttons-grid">
                    <button class="btn btn-primary" onclick="startRealTimeMonitoring()">
                        Iniciar Monitoramento
                    </button>
                    <button class="btn btn-stop" onclick="stopRealTimeMonitoring()">
                        Parar Monitoramento
                    </button>
                    <button class="btn btn-success" onclick="testEmail()">
                        Testar Alertas
                    </button>
                    <button class="btn btn-secondary" onclick="collectLogs()">
                        Coletar Logs
                    </button>
                </div>
            </section>

            <!-- Logs em Tempo Real -->
            <section class="logs-section">
                <h3>Feed de Logs em Tempo Real</h3>
                <div class="logs-container" id="logs-container">
                    <div class="log-entry">
                        <span class="timestamp">2024-01-15 10:30:15</span>
                        <span class="level info">INFO</span>
                        <span class="message">Sistema SHILD IA iniciado com sucesso</span>
                    </div>
                    <div class="log-entry">
                        <span class="timestamp">2024-01-15 10:30:16</span>
                        <span class="level success">SUCCESS</span>
                        <span class="message">Servidor de coleta de logs operacional</span>
                    </div>
                    <div class="log-entry">
                        <span class="timestamp">2024-01-15 10:30:17</span>
                        <span class="level info">INFO</span>
                        <span class="message">Monitoramento de anomalias ativado</span>
                    </div>
                </div>
            </section>



            <!-- Se√ß√£o de A√ß√µes Autom√°ticas -->
            <section class="auto-actions-section" id="auto-actions">
                <h3>‚ö° A√ß√µes Autom√°ticas Executadas</h3>
                <div id="auto-actions-list">
                    <div class="log-entry">
                        <span class="timestamp">Aguardando a√ß√µes...</span>
                        <span class="level info">READY</span>
                        <span class="message">Sistema preparado para resposta autom√°tica</span>
                    </div>
                </div>
                
                <!-- Se√ß√£o de Aprova√ß√µes Pendentes -->
                <div id="pending-approvals" class="mt-lg">
                    <h4 style="color: var(--accent-primary); margin-bottom: 16px;">Aguardando Aprova√ß√£o Humana</h4>
                    <div id="approval-list">
                        <div class="log-entry">
                            <span class="timestamp">Nenhuma aprova√ß√£o pendente</span>
                            <span class="level success">OK</span>
                            <span class="message">Todas as a√ß√µes cr√≠ticas foram processadas</span>
                        </div>
                    </div>
            </div>
            </section>

            <!-- Se√ß√£o SIEM Integration (Preparada para Wazuh) -->
            <section class="wazuh-integration" id="wazuh-section">
                <div class="wazuh-title">Security Operations Center</div>
                
                <div class="dashboard-grid">
                    <!-- Status de Seguran√ßa -->
                    <div class="card">
                        <h3>Threat Level</h3>
                        <div id="threat-level" class="text-accent">LOW</div>
                    </div>
                    
                    <!-- Alertas Cr√≠ticos -->
                    <div class="card">
                        <h3>Critical Alerts</h3>
                        <div id="critical-alerts">0</div>
                    </div>
                    
                    <!-- Eventos SIEM -->
                    <div class="card">
                        <h3>SIEM Events</h3>
                        <div id="siem-events">Aguardando...</div>
                    </div>
                    
                    <!-- Connection Status -->
                    <div class="card">
                        <h3>SIEM Status</h3>
                        <div id="siem-status">Desconectado</div>
                </div>
            </div>
            
                <!-- Link para Wazuh Dashboard (oculto por padr√£o) -->
                <div id="wazuh-detail-link" class="hidden" style="text-align: center; margin-top: 24px;">
                    <a href="#" target="_blank" class="btn btn-secondary">
                        Ver An√°lise Detalhada no Wazuh
                    </a>
                </div>
            </section>

            <!-- Painel de Controle Wazuh -->
            <section class="wazuh-control-panel" style="margin-top: 32px;">
                <h3>Controle Manual de A√ß√µes SIEM</h3>
                <div class="dashboard-grid" style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));">
                    
                    <!-- A√ß√µes de Seguran√ßa -->
                    <div class="card">
                        <h4>Bloqueio de IP</h4>
                        <div style="display: flex; gap: 8px; margin-top: 12px;">
                            <input type="text" id="ip-to-block" placeholder="Ex: 192.168.1.100" 
                                   style="flex: 1; padding: 8px; background: var(--bg-tertiary); border: 1px solid var(--accent-primary); color: var(--text-primary); border-radius: 4px;">
                            <button class="btn-mini btn-danger" onclick="executeManualAction('block_ip', document.getElementById('ip-to-block').value)">
                                Bloquear
                            </button>
                        </div>
                    </div>

                    <!-- Rein√≠cio de Servi√ßos -->
                    <div class="card">
                        <h4>Reiniciar Servi√ßo</h4>
                        <div style="display: flex; gap: 8px; margin-top: 12px;">
                            <select id="service-to-restart" style="flex: 1; padding: 8px; background: var(--bg-tertiary); border: 1px solid var(--accent-primary); color: var(--text-primary); border-radius: 4px;">
                                <option value="">Selecionar servi√ßo...</option>
                                <option value="nginx">Nginx</option>
                                <option value="apache2">Apache</option>
                                <option value="ssh">SSH</option>
                                <option value="fail2ban">Fail2Ban</option>
                            </select>
                            <button class="btn-mini btn-success" onclick="executeManualAction('restart_service', document.getElementById('service-to-restart').value)">
                                Reiniciar
                            </button>
                        </div>
                    </div>

                    <!-- Isolamento de Processo -->
                    <div class="card">
                        <h4>Isolar Processo</h4>
                        <div style="display: flex; gap: 8px; margin-top: 12px;">
                            <input type="text" id="pid-to-isolate" placeholder="Ex: 1234" 
                                   style="flex: 1; padding: 8px; background: var(--bg-tertiary); border: 1px solid var(--accent-primary); color: var(--text-primary); border-radius: 4px;">
                            <button class="btn-mini btn-danger" onclick="executeManualAction('isolate_process', document.getElementById('pid-to-isolate').value)">
                                Isolar
                            </button>
                        </div>
                    </div>

                    <!-- A√ß√µes Cr√≠ticas -->
                    <div class="card" style="border: 2px solid var(--status-warning);">
                        <h4 style="color: var(--status-warning);">A√ß√µes Cr√≠ticas</h4>
                        <div style="display: flex; flex-direction: column; gap: 8px; margin-top: 12px;">
                            <button class="btn-mini btn-danger" onclick="executeManualAction('shutdown_system', 'localhost')">
                                Desligar Sistema
                            </button>
                            <button class="btn-mini btn-danger" onclick="executeManualAction('network_isolation', 'localhost')">
                                Isolamento de Rede
                            </button>
                            <small style="color: var(--text-muted); margin-top: 4px;">
                                A√ß√µes cr√≠ticas requerem aprova√ß√£o
                            </small>
                        </div>
                    </div>
                </div>
            </section>

            <!-- M√©tricas Avan√ßadas (Preparadas para expans√£o) -->
            <section class="dashboard-grid" style="margin-top: 48px;">
                <div class="card">
                    <h3>üìä M√©tricas do Sistema</h3>
                    <div style="display: flex; flex-direction: column; gap: 8px; font-family: var(--font-mono); font-size: 0.9rem;">
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--text-secondary);">Anomalias:</span>
                            <span id="anomalies-count" style="color: var(--status-warning);">0</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--text-secondary);">Logs:</span>
                            <span id="logs-count" style="color: var(--accent-primary);">0</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--text-secondary);">Precis√£o:</span>
                            <span id="ai-accuracy" style="color: var(--status-success);">95.3%</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--text-secondary);">Status:</span>
                            <span style="color: var(--accent-primary);">Ativo</span>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <h3>üåê Fontes de Coleta</h3>
                    <div style="display: flex; flex-direction: column; gap: 8px; font-family: var(--font-mono); font-size: 0.9rem;">
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--text-secondary);">Sistema:</span>
                            <span id="source-system" style="color: var(--accent-primary);">Ativo</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--text-secondary);">Syslog:</span>
                            <span id="source-syslog" style="color: var(--accent-primary);">Ativo</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--text-secondary);">SSH:</span>
                            <span id="source-ssh" style="color: var(--text-muted);">Inativo</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--text-secondary);">SIEM:</span>
                            <span id="source-siem" style="color: var(--text-muted);">Preparando...</span>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>‚ö° Performance</h3>
                    <div style="display: flex; flex-direction: column; gap: 8px; font-family: var(--font-mono); font-size: 0.9rem;">
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--text-secondary);">CPU:</span>
                            <span id="cpu-usage" style="color: var(--status-success);">12%</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--text-secondary);">RAM:</span>
                            <span id="ram-usage" style="color: var(--status-success);">256MB</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--text-secondary);">Lat√™ncia:</span>
                            <span id="latency" style="color: var(--status-success);">< 1ms</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--text-secondary);">Uptime:</span>
                            <span id="uptime" style="color: var(--accent-primary);">00:00:00</span>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üîí Seguran√ßa</h3>
                    <div style="display: flex; flex-direction: column; gap: 8px; font-family: var(--font-mono); font-size: 0.9rem;">
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--text-secondary);">IPs Bloqueados:</span>
                            <span id="blocked-ips" style="color: var(--status-warning);">0</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--text-secondary);">Tentativas SSH:</span>
                            <span id="ssh-attempts" style="color: var(--status-info);">0</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--text-secondary);">Malware:</span>
                            <span id="malware-detected" style="color: var(--status-success);">0</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--text-secondary);">Firewall:</span>
                            <span id="firewall-status" style="color: var(--status-success);">Ativo</span>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üìä Estat√≠sticas</h3>
                    <div style="display: flex; flex-direction: column; gap: 8px; font-family: var(--font-mono); font-size: 0.9rem;">
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--text-secondary);">Logs/min:</span>
                            <span id="logs-per-minute" style="color: var(--accent-primary);">42</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--text-secondary);">Falsos Positivos:</span>
                            <span id="false-positives" style="color: var(--status-success);">0.3%</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--text-secondary);">Tempo Resposta:</span>
                            <span id="response-time" style="color: var(--status-success);">< 500ms</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--text-secondary);">Disponibilidade:</span>
                            <span id="availability" style="color: var(--status-success);">99.9%</span>
                        </div>
                    </div>
                </div>
            </div>
            </section>
        </main>
    </div>
    
    <script src="static/app.js?v1758466000"></script>
</body>
</html>
